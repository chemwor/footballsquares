<div class="row align-items-center gy-2 mb-4 pb-1 pb-sm-2 pb-lg-3">
  <div class="col-lg-5">
    <h1 class="mb-lg-0">Completed Games</h1>
  </div>
  <div class="col-xl-2 offset-xl-1 col-lg-3 col-sm-5">
    <select class="form-select">
      <option>All categories</option>
      <option>Football</option>
      <option>Basketball</option>
      <option>Baseball</option>
      <option>Soccer</option>
      <option>Hockey</option>
      <option>Other</option>
    </select>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="loading" class="text-center py-5">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-3 text-muted">Loading your completed games...</p>
</div>

<!-- Error State -->
<div *ngIf="error && !loading" class="alert alert-danger" role="alert">
  <i class="ai-alert-circle me-2"></i>
  {{ error }}
</div>

<!-- Empty State -->
<div *ngIf="!loading && !error && games.length === 0" class="text-center py-5">
  <div class="mb-4">
    <i class="ai-check-circle text-muted" style="font-size: 4rem;"></i>
  </div>
  <h3 class="h4 mb-3">No Completed Games Yet</h3>
  <p class="text-muted mb-4">You haven't participated in any completed games yet. Join some current games to see your results here!</p>
  <a routerLink="/blog/current-games" class="btn btn-primary">Browse Current Games</a>
</div>

<!-- Games List -->
<div *ngIf="!loading && !error && games.length > 0">
  @for (game of games; track $index) {
    <article class="row g-0 border-0 mb-4">
      <a
        class="col-sm-5 col-lg-4 bg-repeat-0 bg-size-cover bg-position-center rounded-5"
        routerLink="/services/game-page/{{ game.id }}"
        style="background-image: url({{ game.image }}); min-height: 16rem"
        aria-label="Post image"
      ></a>
      <div class="col-sm-7 col-lg-8">
        <div class="pt-4 pb-sm-4 ps-sm-4 pe-lg-4">
          <h3>
            <a routerLink="/services/game-page/{{ game.id }}">{{ game.title }}</a>
          </h3>
          <div class="mb-2">
            <span class="badge bg-primary me-2">{{ game.sport }}</span>
            <span class="badge bg-secondary me-2">{{ game.match }}</span>
            <span class="badge bg-dark me-2">{{ game.boardSize }}</span>
            <span class="badge bg-success">{{ game.status | titlecase }}</span>
          </div>
          <p class="d-sm-none d-md-block">{{ game.excerpt }}</p>
          <div class="d-flex flex-wrap align-items-center mt-n2">
            <span class="badge bg-primary me-2">{{ game.ownerName }}</span>
            <span class="fs-xs opacity-20 mt-2 mx-3">|</span>
            <span class="fs-sm text-body-secondary mt-2">{{ game.date }}</span>
          </div>
        </div>
      </div>
    </article>
  }
</div>

<!-- Pagination (only show if there are games) -->
<div *ngIf="!loading && !error && games.length > 0" class="row gy-3 align-items-center mt-lg-5 pt-2 pt-md-4 pt-lg-0">
  <div class="col col-md-4 col-6 order-md-1 order-1">
    <div class="d-flex align-items-center">
      <span class="text-body-secondary fs-sm">Show</span>
      <select class="form-select form-select-flush w-auto">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="25">25</option>
      </select>
    </div>
  </div>
  <div class="col col-md-4 col-12 order-md-2 order-3 text-center">
    <button class="btn btn-primary w-md-auto w-100" type="button">
      Load more posts
    </button>
  </div>
  <div class="col col-md-4 col-6 order-md-3 order-2">
    <nav aria-label="Page navigation">
      <ngb-pagination
        [collectionSize]="50"
        [directionLinks]="false"
        class="pagination pagination-sm justify-content-end"
      >
        <ng-template class="page-item active" aria-current="page">
          <span class="page-link"
            >1<span class="visually-hidden">(current)</span></span
          >
        </ng-template>
        <ng-template class="page-item"
          ><a class="page-link" href="javascript:void(0);">2</a></ng-template
        >
        <ng-template class="page-item"
          ><a class="page-link" href="javascript:void(0);">3</a></ng-template
        >
        <ng-template class="page-item"
          ><a class="page-link" href="javascript:void(0);">4</a></ng-template
        >
        <ng-template class="page-item"
          ><a class="page-link" href="javascript:void(0);">5</a></ng-template
        >
      </ngb-pagination>
    </nav>
  </div>
</div>
